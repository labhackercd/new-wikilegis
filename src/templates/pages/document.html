{% extends "structure/base.html" %}
{% load staticfiles projects_tags %}
{% block title %}
  {{ object.title }}
{% endblock title %}
{% block content %}

<main class="document-body js-documentBody" data-selection-enabled="{% if request.user.is_authenticated %}true{% else %}false{% endif %}">
  <header>
    <div class="info">
      {% if object.document_type %}
      <span class="epigraph">{{ object.document_type.initials }} {{ object.number }}/{{ object.year }}</span>
      {% endif %}
      <span class="date">Aberto em 16/12/2018</span>
    </div>
    <h1>{{ object.title }}</h1>
    <p class="description">{{ object.description }}</p>
    <hr>
  </header>

  {% for excerpt in object.excerpts.all %}
    {% if excerpt.excerpt_type.align_center %}
    <h3>{% excerpt_numbering excerpt %}</h3>
    <h3>{{ excerpt.content|safe }}</h3>
    {% else %}
    <p><b>{% excerpt_numbering excerpt %}</b>{% include "components/document-excerpt.html" with excerpt=excerpt %}</p>
    {% endif %}
  {% endfor %}

</main>

{% include "components/suggestion-input.html" %}

{% include "components/opinion-modal.html" %}
{% endblock content %}

{% block page_js %}
  <script src="{% static 'js/components/documentExcerpt/view.js' %}"></script>
  <script src="{% static 'js/components/documentBody/view.js' %}"></script>
  <script src="{% static 'js/components/suggestionInput/view.js' %}"></script>
  <script src="{% static 'js/components/suggestionInput/view.js' %}"></script>
  <script src="{% static 'js/components/suggestionInput/controller.js' %}"></script>
  <script src="{% static 'js/components/navBurger/view.js' %}"></script>
  <script src="{% static 'js/components/navBar/view.js' %}"></script>
  <script src="{% static 'js/components/body/view.js' %}"></script>
  <script src="{% static 'js/components/opinionModal/view.js' %}"></script>
  <script src="{% static 'js/components/opinionModal/controller.js' %}"></script>
  <script src="{% static 'js/pages/document.js' %}"></script>
{% endblock page_js %}
