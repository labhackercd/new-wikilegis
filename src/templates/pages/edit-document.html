{% extends "structure/base.html" %}
{% load staticfiles %}
{% block title %}
{{ object.title }}
{% endblock title %}

{% block navbar %}
{% include "components/document-navbar.html" %}
{% endblock navbar %}

{% block extracss %}
<style>
  .ui-autocomplete-loading {
    background: white url("https://jqueryui.com/resources/demos/autocomplete/images/ui-anim_basic_16x16.gif") right center no-repeat;
  }
</style>
{% endblock extracss %}

{% block body_classes %}-white{% endblock %}

{% block content %}

<main class="document-editor -active js-documentEditor" data-document-id="{{ object.id }}">

  {% if page == 'editor' %}
    {% include "components/timeline-sidebar.html" %}
    {% include "components/document-editor.html" %}
  {% elif page == 'clusters' %}
    {% include "components/cluster-sidebar.html" %}
    {% include "components/document-opinions.html" %}
  {% endif %}

  {% include "components/tool-bar.html" with pk=object.id %}
  {% for message in messages %}
  {% include "components/info-message.html" with message=message %}
  {% endfor %}
</main>

{% include "components/validate-modal.html" %}
{% include "components/public-participation-modal.html" %}
{% include "components/participation-info-modal.html" %}
{% include "components/save-modal.html" %}

{% endblock content %}

{% block page_js %}
<script src="{% static 'jquery-ui-dist/jquery-ui.min.js' %}"></script>
<script src="{% static 'js/components/documentSideBar/view.js' %}"></script>
<script src="{% static 'js/components/validationModal/view.js' %}"></script>
<script src="{% static 'js/components/publicParticipationModal/view.js' %}"></script>
<script src="{% static 'js/components/publicParticipationModal/controller.js' %}"></script>
<script src="{% static 'js/components/congressmanAutocomplete/view.js' %}"></script>
{% if page == 'editor' %}
<script src="{% static 'js/utils/position.js' %}"></script>
<script src="{% static 'js/vendor/silegismg-editor-articulacao-plain-js-polyfill.js' %}"></script>
<script src="{% static 'js/components/infoMessage/view.js' %}"></script>
<script src="{% static 'js/components/saveMessage/view.js' %}"></script>
<script src="{% static 'js/components/saveModal/view.js' %}"></script>
<script src="{% static 'js/components/documentEditor/controller.js' %}"></script>
<script src="{% static 'js/components/documentEditor/view.js' %}"></script>
<script src="{% static 'js/components/toolBar/controller.js' %}"></script>
<script src="{% static 'js/components/toolBar/view.js' %}"></script>
<script src="{% static 'js/components/timelineSidebar/view.js' %}"></script>
<script src="{% static 'js/components/contextualToolbar/view.js' %}"></script>
<script src="{% static 'js/components/navBar/view.js' %}"></script>
<script src="{% static 'js/pages/editDocument.js' %}"></script>
{% elif page == 'clusters' %}
<script src="{% static 'js/components/reduceExcerpts/view.js' %}"></script>
<script src="{% static 'js/components/clusters/view.js' %}"></script>
<script src="{% static 'js/components/textHighlight/view.js' %}"></script>
<script src="{% static 'js/pages/clustersDocument.js' %}"></script>
{% endif %}
{% endblock page_js %}
