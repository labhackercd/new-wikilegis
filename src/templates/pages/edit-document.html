{% extends "structure/base.html" %}
{% load staticfiles %}
{% block title %}
{{ object.title }}
{% endblock title %}

{% block navbar %}
{% include "components/document-navbar.html" %}
{% endblock navbar %}

{% block body_classes %}-white{% endblock %}

{% block content %}

<main class="document-editor -active js-documentEditor" data-document-id="{{ object.id }}">

  {% if page == 'editor' %}
    {% include "components/document-editor.html" %}
  {% elif page == 'clusters' %}
    {% include "components/side-bar.html" %}
    {% include "components/document-opinions.html" %}
  {% endif %}

  {% include "components/tool-bar.html" with pk=object.id %}
  {% for message in messages %}
  {% include "components/info-message.html" with message=message %}
  {% endfor %}
</main>

{% include "components/validate-modal.html" %}

{% endblock content %}

{% block page_js %}
<script src="{% static '/js/components/validationModal/view.js' %}"></script>
{% if page == 'editor' %}
<script src="{% static '/js/utils/position.js' %}"></script>
<script src="{% static '/js/vendor/silegismg-editor-articulacao-plain-js-polyfill.js' %}"></script>
<script src="{% static '/js/components/infoMessage/view.js' %}"></script>
<script src="{% static '/js/components/documentEditor/view.js' %}"></script>
<script src="{% static '/js/components/contextualToolbar/view.js' %}"></script>
<script src="{% static '/js/components/navBar/view.js' %}"></script>
<script src="{% static '/js/pages/editDocument.js' %}"></script>
{% elif page == 'clusters' %}
<script src="{% static 'js/components/reduceExcerpts/view.js' %}"></script>
<script src="{% static 'js/components/documentSideBar/view.js' %}"></script>
<script src="{% static 'js/components/clusters/view.js' %}"></script>
<script src="{% static 'js/components/textHighlight/view.js' %}"></script>
<script src="{% static 'js/pages/clustersDocument.js' %}"></script>
{% endif %}
{% endblock page_js %}
