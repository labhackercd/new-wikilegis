{% extends "structure/base.html" %}
{% load staticfiles projects_tags %}

{% block content %}

<main class="projects-list" id="js-projects-list">
  <div class="header">
    <h1>Meus Documentos</h1>
    <div class="tabs">
      <div class="tab -active">Participação Popular</div>
      <div class="tab">Abertos</div>
      <div class="tab">Encerrados</div>
    </div>
  </div>
  <input class="search js-search" type="text" placeholder="Buscar">
  <div class="list">
    <a href="{% url 'new_document' %}" class="simple-card -new">
      <span class="icon" aria-label="Adicionar projeto"></span>

    </a>
    {% for document in object_list %}
      <a href="{% url 'edit_document' pk=document.id %}" class="simple-card">
      <h3 class="js-title">{{ document.title }}</h3>
      <p class="js-description">{{ document.description }}</p>
      <div class="info">
        <div class="themes">
          {% for theme in document.themes.all %}
          <div class="theme">
            {% if theme.icon %}
            <img src="{{ theme.icon.url }}" alt="{{ theme.slug }}">
            {% endif %}
            <span>{{ theme.name }}</span>
          </div>
          {% endfor %}
        </div>
        <div class="suggestions">
          <div class="suggestion">
            <span class="value">{{document.invited_groups.all.count}}</span>
            <span>Grupos</span>
          </div>
        </div>
      </div>
    </a>
    {% endfor %}
  </div>

</main>

{% endblock content %}

{% block page_js %}
  <script>
    var prefixURL = '{{prefix_url|default_if_none:""}}';
  </script>

  <script src="{% static 'list.js/dist/list.min.js' %}"></script>
  <script src="{% static 'particles.js/particles.js' %}"></script>
  <script src="{% static 'js/components/backgroundParticle/view.js' %}"></script>
  <script src="{% static 'js/components/documentExcerpt/view.js' %}"></script>
  <script src="{% static 'js/components/documentBody/view.js' %}"></script>
  <script src="{% static 'js/components/navBurger/view.js' %}"></script>
  <script src="{% static 'js/components/searchInput/view.js' %}"></script>
  <script src="{% static 'js/pages/home.js' %}"></script>
{% endblock page_js %}
