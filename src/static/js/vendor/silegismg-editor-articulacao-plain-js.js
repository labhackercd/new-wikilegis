!function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=11)}([function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=function(){function t(e,o){n(this,t),this.tipos=e instanceof Array?new Set(e):new Set([e]),this.descricao=o}return r(t,[{key:"aplicaSeA",value:function(t){return this.tipos.has(t.getAttribute("data-tipo"))}},{key:"validar",value:function(t){throw"Não implementado."}}]),t}();e.default=i},function(t,e,o){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e,o){var n=function e(n){o(n),t.removeEventListener("keyup",e)};t.addEventListener("keyup",n)}Object.defineProperty(e,"__esModule",{value:!0}),e.TransformacaoDoProximo=e.Transformacao=void 0;var c=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=o(7),s=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(){function t(){i(this,t),this.sequencias=[];for(var e=0;e<arguments.length;e++){var o=arguments[e];this.sequencias.push(o),o.indexOf("\n")>=0&&this.sequencias.push(o.replace(/\n/g,"\r"))}}return c(t,[{key:"transformar",value:function(t,e,o,n,r){throw"Método não implementado"}},{key:"tipoTransformacao",get:function(){return this.constructor.name}}]),t}(),f=function(t){function e(){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),c(e,[{key:"transformar",value:function(t,e,o){var n=this,r=this.proximoTipo(t,e,o);r&&a(t,o.cursor.elemento,function(){var t=e.contexto.cursor.tipo;e.alterarTipoDispositivoSelecionado(r),e.dispatchEvent(new s.default(e,t,r,n.tipoTransformacao))})}},{key:"proximoTipo",value:function(t,e,o){throw"Método não implementado"}}]),e}(l);e.Transformacao=l,e.TransformacaoDoProximo=f,e.default=l},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=function(){function t(e,o){n(this,t),this.nome=e,this.dados=o}return r(t,[{key:"getCustomEvent",value:function(){return new CustomEvent(this.nome,this.dados)}}]),t}();!function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),o}if("function"==typeof window.CustomEvent)return!1;t.prototype=window.Event.prototype,window.CustomEvent=t}(),e.default=i},function(t,e,o){"use strict";function n(t,e,o){if(!t)throw"Objeto não fornecido.";if(!e)throw"Método não fornecido.";if(!o)throw"Interceptador não fornecido.";if("function"==typeof t)n(t.prototype,e,o);else{var r=t[e];if(!r)throw"Método não encontrado: "+e;t[e]=function(){return o(this,r,arguments)}}}function r(t,e,o){if(!t)throw"Objeto não fornecido.";if(!e)throw"Método não fornecido.";if(!o)throw"Interceptador não fornecido.";if("function"==typeof t)r(t.prototype,e,o);else{var n=t[e];if(!n)throw"Método não encontrado: "+e;t[e]=function(){var t=n.apply(this,arguments);return o(this,t,arguments)}}}Object.defineProperty(e,"__esModule",{value:!0}),e.interceptar=n,e.interceptarApos=r,e.default={}},function(t,e,o){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){var e={ultimoItem:null,textoAnterior:"",artigos:[],getUltimoItemTipo:function(t){var e=this.ultimoItem;if(null===e)return null;if("function"==typeof t)for(;e&&!(e instanceof t);)e=e.$parent;else{if(!(t instanceof Array))throw"Argumento inválido";do{var o;for(o=0;o<t.length;o++)if(e instanceof t[o])return e;e=e.$parent}while(e)}return e}},o=/(“[\s\S]*?”|"[\s\S]*?")/g,n=[{item:"parentesis",regexp:/^\(.+\)$/,onMatch:function(t,e){return t.ultimoItem&&(t.ultimoItem.descricao?t.ultimoItem.descricao+=e[0]:t.ultimoItem.descricao=e[0]),t.ultimoItem}},{item:"continuacao-divisao",regexp:/^\s*(.*)?\s*$/,requisito:[_,w,E,O],onMatch:function(t,e){return t.ultimoItem.descricao?t.ultimoItem.descricao+=e[1]:t.ultimoItem.descricao=e[1],t.ultimoItem},reiniciar:!0},{item:"artigo",regexp:/^\s*(?:Art\.?|Artigo)\s*(\d+(?:-[a-z])?)\s*.\s*[-–]?\s*(.+)/i,onMatch:function(t,e){var o=new h(e[1],e[2]);return t.artigos.push(o),o}},{item:"paragrafo",regexp:/^\s*(?:Parágrafo único|§\s*(\d+))\s*.?\s*[-–]?\s*(.+)/i,onMatch:function(t,e){var o=new b(e[1]||"Parágrafo único",e[2]),n=t.getUltimoItemTipo(h);return n||(n=new h("",t.textoAnterior),t.artigos.push(n),t.textoAnterior=""),n.adicionar(o),o}},{item:"inciso",regexp:/^\s*([IXVDLM]+)\s*[-–).]\s*(.+)/i,onMatch:function(t,e){var o=new A(e[1],e[2]),n=t.getUltimoItemTipo([h,b]);return n||(n=new h("",t.textoAnterior),t.artigos.push(n),t.textoAnterior=""),n.adicionar(o),o}},{item:"alinea",regexp:/^\s*([a-z])\s*[-–).]\s*(.*)/i,onMatch:function(t,e){var o=new v(e[1],e[2]),n=t.getUltimoItemTipo(A);if(!n){var r=t.getUltimoItemTipo([h,b]);r||(r=new h("",""),t.artigos.push(r)),n=new A("",t.textoAnterior),r.adicionar(n),t.textoAnterior=""}return n.adicionar(o),o}},{item:"item",regexp:/^\s*(\d)\s*[-–).]\s*(.*)/,onMatch:function(t,e){var o=new y(e[1],e[2]),n=t.getUltimoItemTipo(v);if(!n){n=new v("",t.textoAnterior);var r=t.getUltimoItemTipo(A);if(!r){var i=t.getUltimoItemTipo([h,b]);i||(i=new h("",""),t.artigos.push(i)),r=new A("",""),i.adicionar(r)}r.adicionar(n),t.textoAnterior=""}return n.adicionar(o),o}},{item:"titulo",regexp:/^\s*T[ÍI]TULO\s*([IXVDLM]+)(?:\s*[-–]\s*(.+))?/i,onMatch:function(t,e){var o=new _(e[1],e[2]||"");return t.artigos.push(o),o}},{item:"capitulo",regexp:/^\s*CAP[ÍI]TULO\s*([IXVDLM]+)(?:\s*[-–]\s*(.+))?/i,onMatch:function(t,e){var o=new w(e[1],e[2]||"");return t.artigos.push(o),o}},{item:"secao",regexp:/^\s*SE[ÇC][ÃA]O\s*([IXVDLM]+)(?:\s*[-–]\s*(.+))?/i,onMatch:function(t,e){var o=new E(e[1],e[2]||"");return t.artigos.push(o),o}},{item:"subsecao",regexp:/^\s*SUBSE[ÇC][ÃA]O\s*([IXVDLM]+)(?:\s*[-–]\s*(.+))?/i,onMatch:function(t,e){var o=new O(e[1],e[2]||"");return t.artigos.push(o),o}}],r=[];return t.replace(o,function(t){return r.push(t.replace(/[“”]/g,'"')),"\0"}).replace(/\s*\n+\s*/g,"\n").split("\n").forEach(function(t){var o,i,a,c;for(o=0;o<n.length;o++){if(i=n[o],i.requisito){var u;for(c=!1,u=0;u<i.requisito.length;u++)if(e.ultimoItem instanceof i.requisito[u]){c=!0;break}}else c=!0;if(c&&(a=i.regexp.exec(t)))return e.ultimoItem=i.onMatch(e,a),void(e.ultimoItem&&(e.ultimoItem.descricao=e.ultimoItem.descricao.replace(/\0/g,r.shift.bind(r)),i.reiniciar&&(e.ultimoItem=null)))}t=t.replace(/\0/g,function(){return r.shift()}),e.ultimoItem?e.ultimoItem.descricao+="\n"+t:e.artigos.length>0&&e.artigos[e.artigos.length-1]instanceof C?e.artigos[e.artigos.length-1].descricao+="\n"+t:0===e.textoAnterior.length?e.textoAnterior=t:e.textoAnterior+="\n"+t}),{textoAnterior:e.textoAnterior,articulacao:e.artigos}}function c(t){var e=document.createDocumentFragment();if(-1===t.indexOf("\n")){var o=document.createElement("p");o.textContent=t,e.appendChild(o)}else{t.split(/\n+/g).forEach(function(t){var o=document.createElement("p");o.textContent=t,e.appendChild(o)})}return e}function u(t){var e=document.createDocumentFragment(),o=document.createElement("p");return o.textContent=t.replace(/\n+/g," "),e.appendChild(o),e}function s(t){function e(t,e,o,n){var r=n.prefixo+"_inc"+(o+1);return t+'<Inciso id="'+r+'"><Rotulo>'+e.numero+"</Rotulo><p>"+e.descricao+"</p>"+(e.alineas||[]).reduce(function(t,e,o){return t+'<Alinea id="'+r+"_ali"+(o+1)+'"><Rotulo>'+e.numero+"</Rotulo><p>"+e.descricao+"</p></Alinea>"},"")+"</Inciso>"}return'<Articulacao xmlns="http://www.lexml.gov.br/1.0">'+t.articulacao.reduce(function(t,o,n){var r="art"+(n+1),i=t+'<Artigo id="'+r+'"><Rotulo>Art. '+(n+1)+(n<9?"º":"")+' –</Rotulo><Caput id="'+r+'_cpt"><p>'+o.descricao+"</p>";return o.incisos&&o.incisos.length>0&&(o.incisos.prefixo=r+"_cpt",i+=o.incisos.reduce(e,"")),i+="</Caput>",o.paragrafos&&o.paragrafos.length>0&&(i+=o.paragrafos.reduce(function(t,o,n,i){var a=r+"_par"+(n+1);return o.incisos&&(o.incisos.prefixo=a),t+'<Paragrafo id="'+a+'"><Rotulo>'+(1===i.length?"Parágrafo único":"§"+(n+1)+(n<9?"º":""))+" –</Rotulo><p>"+o.descricao+"</p>"+(o.incisos||[]).reduce(e,"")+"</Paragrafo>"},"")),i+"</Artigo>"},"")+"</Articulacao>"}function l(t,e,o){var n;try{switch((o||"texto").toLowerCase()){case"texto":n=a(t);break;case"html":var r=document.createElement("div");r.innerHTML=t,n=a(f(r.innerHTML.replace(/<P>(.+?)<\/P>/gi,"$1\n").trim()));break;default:throw"Formato não suportado."}switch((e||"lexml").toLowerCase()){case"json":return n;case"lexml":return p(n);case"lexmlstring":case"lexml-string":return s(n);default:throw"Formato não suportado: "+e}}catch(o){throw{mensagem:"Erro interpretando articulação.",item:t,formato:e,erroOriginal:o}}}function f(t){var e=["&lt;","&gt;","&quot;","&amp;","&apos;"];return t.replace(/&.+?;/g,function(t){if(e.indexOf(t)>=0)return t;var o=document.createElement("span");return o.innerHTML=t,o.textContent})}function p(t){var e=s(t),o=document.createElement("div");o.innerHTML=e;for(var n=document.createDocumentFragment();o.firstChild;)n.appendChild(o.firstChild);return n}Object.defineProperty(e,"__esModule",{value:!0});var d=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},m=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),g=function(){function t(e,o,n,r){i(this,t),this.numero=o,this.descricao=n,Object.defineProperty(this,"tipo",{value:e}),r&&Object.defineProperty(this,"subitens",{get:function(){var t=this;return r.reduce(function(e,o){return e.concat(t[o])},[])}})}return m(t,[{key:"adicionar",value:function(t){throw"Não implementado"}},{key:"transformarConteudoEmFragmento",value:function(){return u(this.descricao)}},{key:"paraEditor",value:function(){var t=this.transformarConteudoEmFragmento();t.firstElementChild.setAttribute("data-tipo",this.tipo);for(var e=t.children[1];e;e=e.nextElementSibling)e.setAttribute("data-tipo","continuacao");return this.subitens.forEach(function(e){return t.appendChild(e.paraEditor())}),t}}]),t}(),h=function(t){function e(t,o){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"artigo",t,o,["incisos","paragrafos"]));return r.incisos=[],r.paragrafos=[],r}return r(e,t),m(e,[{key:"adicionar",value:function(t){var e=this;if(Object.defineProperty(t,"$parent",{get:function(){return e}}),t instanceof A)this.incisos.push(t);else{if(!(t instanceof b))throw"Tipo não suportado.";this.paragrafos.push(t)}}},{key:"transformarConteudoEmFragmento",value:function(){return c(this.descricao)}},{key:"paraEditor",value:function(){var t=d(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"paraEditor",this).call(this);return 1===this.paragrafos.length&&t.querySelector('p[data-tipo="paragrafo"]').classList.add("unico"),t}}]),e}(g),b=function(t){function e(t,o){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"paragrafo",t,o,["incisos"]));return r.incisos=[],r}return r(e,t),m(e,[{key:"adicionar",value:function(t){var e=this;if(!(t instanceof A))throw"Tipo não suportado.";Object.defineProperty(t,"$parent",{get:function(){return e}}),this.incisos.push(t)}}]),e}(g),A=function(t){function e(t,o){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"inciso",t,o,["alineas"]));return r.alineas=[],r}return r(e,t),m(e,[{key:"adicionar",value:function(t){var e=this;if(!(t instanceof v))throw"Tipo não suportado.";Object.defineProperty(t,"$parent",{get:function(){return e}}),this.alineas.push(t)}}]),e}(g),v=function(t){function e(t,o){i(this,e);var r=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"alinea",t,o,["itens"]));return r.itens=[],r}return r(e,t),m(e,[{key:"adicionar",value:function(t){var e=this;if(!(t instanceof y))throw"Tipo não suportado.";Object.defineProperty(t,"$parent",{get:function(){return e}}),this.itens.push(t)}}]),e}(g),y=function(t){function e(t,o){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"item",t,o,[]))}return r(e,t),e}(g),C=function(t){function e(t,o,r){i(this,e);var a=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o,r));return a.subitens=[],a}return r(e,t),m(e,[{key:"adicionar",value:function(t){this.subitens.push(t)}}]),e}(g),_=function(t){function e(t,o){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"titulo",t,o))}return r(e,t),e}(C),w=function(t){function e(t,o){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"capitulo",t,o))}return r(e,t),e}(C),E=function(t){function e(t,o){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"secao",t,o))}return r(e,t),e}(C),O=function(t){function e(t,o){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"subsecao",t,o))}return r(e,t),e}(C);e.default={Artigo:h,Paragrafo:b,Inciso:A,Alinea:v,Item:y,Titulo:_,Capitulo:w,Secao:E,Subsecao:O,interpretar:l,transformarQuebrasDeLinhaEmP:c},e.Artigo=h,e.Paragrafo=b,e.Inciso=A,e.Alinea=v,e.Item=y,e.Titulo=_,e.Capitulo=w,e.Secao=E,e.Subsecao=O,e.interpretarArticulacao=l,e.transformarQuebrasDeLinhaEmP=c},function(t,e,o){"use strict";function n(t,e,o){for(;!t.hasAttribute("data-tipo");)t=t.parentNode;for(var n=new Set(e),r=new Set(o),i=t.previousElementSibling;i;i=i.previousElementSibling){var a=i.getAttribute("data-tipo");if(n.has(a))return i;if(r.has(a))return null}return null}function r(t,e,o){for(;!t.hasAttribute("data-tipo");)t=t.parentNode;for(var n=new Set(e),r=new Set(o),i=t.nextElementSibling;i;i=i.nextElementSibling){var a=i.getAttribute("data-tipo");if(n.has(a))return i;if(r.has(a))return null}return null}function i(t){return{inciso:["artigo","paragrafo"],alinea:["artigo","paragrafo","inciso"],item:["artigo","paragrafo","inciso","alinea"]}[t]||[]}Object.defineProperty(e,"__esModule",{value:!0}),e.encontrarDispositivoAnteriorDoTipo=n,e.encontrarDispositivoPosteriorDoTipo=r,e.getTiposSuperiores=i},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=t.getSelection(),o=e&&e.rangeCount>0?e.getRangeAt(0):null;if(o){var n=o?o.startContainer:null;if(!n)return null;if(n.nodeType===Node.ELEMENT_NODE&&"BR"!==n.nodeName||(n=n.parentNode),n===t._elemento){var r=!0;if(n.firstElementChild&&n.firstElementChild.hasAttribute("data-tipo"))if(o.collapsed&&o.startOffset===n.childNodes.length)do{n=n.lastElementChild}while(n.lastElementChild);else if(o.collapsed&&0===o.startOffset)do{n=n.firstElementChild}while(n.firstElementChild);else r=!1;else t.limpar(),n=t._elemento.firstElementChild;return r&&(e.removeAllRanges(),o=document.createRange(),o.setStart(n,0),e.addRange(o)),n}if(n.compareDocumentPosition(t._elemento)&Node.DOCUMENT_POSITION_CONTAINS)return n}return null}function a(t,e){return t&&!e[t]?a({titulo:"capitulo",capitulo:"artigo",secao:"artigo",subsecao:"artigo"}[t],e):t||"artigo"}function c(t){return t.replace(/[\u00A0-\u9999]/gim,function(t){return"&#"+t.charCodeAt(0)+";"})}function u(t,e,o){var n=document.createElement("style");if(n.innerHTML=k.default.toString().replace(/\${(.+?)}/g,function(t,e){return o.rotulo[e]}),o.shadowDOM&&"attachShadow"in t){var r=document.createElement("style");r.innerHTML=B.default.toString();var i=t.attachShadow({mode:"string"==typeof o.shadowDOM?o.shadowDOM:"open"});e.dispatchEvent=t.dispatchEvent.bind(t),e.getSelection=function(){return i.getSelection()};var a=document.createElement("div");return a.contentEditable=!o.somenteLeitura,a.spellcheck=t.spellcheck,a.classList.add("silegismg-editor-articulacao"),i.appendChild(n),i.appendChild(r),i.appendChild(a),t.addEventListener("focus",function(t){return a.focus()}),t.focus=function(){a.focus()},a}if(t.contentEditable=!o.somenteLeitura,t.classList.add("silegismg-editor-articulacao"),!$){var c=document.querySelector("head");c?c.appendChild(n):document.body.appendChild(n),$=!0}return t}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),l=o(14),f=n(l),p=o(15),d=n(p),m=o(16),g=n(m),h=o(22),b=n(h),A=o(23),v=n(A),y=o(24),C=n(y),_=o(25),w=n(_),E=o(26),O=n(E),x=(o(4),o(27)),j=n(x),S=o(28),P=n(S),T=o(30),k=n(T),D=o(31),B=n(D),L=o(8),M=n(L),N=o(5),I=o(32),R=n(I),z=o(9),U=n(z),$=!1,F=function(){function t(e,o){if(r(this,t),!(e instanceof Element))throw"Elemento não é um elemento do DOM.";(0,C.default)();var n=Object.create(U.default);Object.assign(n,o),o&&o.rotulo&&Object.setPrototypeOf(n.rotulo,U.default.rotulo),this.opcoes=n,Object.freeze(n),Object.freeze(n.rotulo),Object.freeze(n.validacao),e=u(e,this,n),Object.defineProperty(this,"_elemento",{value:e}),this._handlers=[],this.opcoes.somenteLeitura||(this._registrarEventos(),n.transformacaoAutomatica&&(0,g.default)(this,e),this.clipboardCtrl=new j.default(this),this.controleAlteracao=(0,P.default)(this),this.validacaoCtrl=new R.default(this.opcoes.validacao),/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&(0,b.default)(this),/Trident\//.test(navigator.userAgent)&&(0,v.default)(this)),this.limpar()}return s(t,[{key:"dispatchEvent",value:function(t){this._elemento.dispatchEvent(t.getCustomEvent())}},{key:"getSelection",value:function(){return document.getSelection()}},{key:"limpar",value:function(){this._elemento.innerHTML='<p data-tipo="artigo"><br></p>'}},{key:"_registrarEventos",value:function(){var t=this,e=this._cursorEventHandler.bind(this);["focus","keyup","mousedown","touchstart","mouseup","touchend"].forEach(function(o){return t.registrarEventListener(o,e)}),this.registrarEventListener("keydown",this._keyDownEventHandler.bind(this)),this.registrarEventListener("blur",function(e){if(!t.opcoes.somenteLeitura){t.vazio&&t.limpar();var o=t.contexto;o&&o.cursor.dispositivo&&t.validacaoCtrl.validar(t.contexto.cursor.dispositivo)}})}},{key:"registrarEventListener",value:function(t,e,o){this._handlers.push({evento:t,handler:e}),this._elemento.addEventListener(t,e,o)}},{key:"desregistrar",value:function(){var t=this;this._handlers.forEach(function(e){return t._elemento.removeEventListener(e.evento,e.handler)}),this._handlers=[]}},{key:"_cursorEventHandler",value:function(t){this.atualizarContexto(),this._normalizarContexto(),t instanceof KeyboardEvent&&t.key&&1===t.key.length&&this.contexto.cursor.dispositivo&&this.contexto.cursor.dispositivo.hasAttribute("data-invalido")&&this.contexto.cursor.dispositivo.removeAttribute("data-invalido")}},{key:"_keyDownEventHandler",value:function(t){this.contexto&&this.contexto.cursor.elemento||this._cursorEventHandler(t);var e=i(this);this.contexto&&e===this.contexto.cursor.elemento||this._cursorEventHandler(t)}},{key:"_normalizarContexto",value:function(){if(this.contexto){var t=this.contexto.cursor.dispositivo;t&&(this._normalizarDispositivo(t.previousElementSibling),this._normalizarDispositivo(t,this.contexto),this._normalizarDispositivo(t.nextElementSibling),this.opcoes.somenteLeitura||(this.validacaoCtrl.validar(t.previousElementSibling),this.validacaoCtrl.validar(t.nextElementSibling)))}}},{key:"atualizarContexto",value:function(){var t=i(this);if(!t){if(!this.contexto)return;t=this.contexto.cursor.elemento}if(t===this._elemento&&(!this._elemento.firstElementChild||this._elemento.firstElementChild===this._elemento.lastElementChild&&"BR"===this._elemento.firstElementChild.tagName)){this.limpar(),t=this._elemento.firstElementChild;var e=this.getSelection();e.removeAllRanges();var o=document.createRange();o.selectNodeContents(t),e.addRange(o)}var n=new d.default(this._elemento,t);return this.contexto&&this.contexto.cursor.elemento===t&&!this.contexto.comparar(n)||(this.contexto&&this.contexto.cursor.dispositivo&&!this.opcoes.somenteLeitura&&this.validacaoCtrl.validar(this.contexto.cursor.dispositivo),this.contexto=n,this.dispatchEvent(new f.default(n))),n}},{key:"alterarTipoDispositivoSelecionado",value:function(t){if(this.atualizarContexto(),!this.contexto)throw"Não há contexto atual.";if(!this.contexto.permissoes[t])throw"Tipo não permitido: "+t;var e=this.contexto.cursor.dispositivo;this._definirTipo(e,t);var o=this.getSelection(),n=o&&o.rangeCount>0?o.getRangeAt(0):null,r=n?n.endContainer:null;if(r){for(;r!==this._elemento&&(r.nodeType!==Node.ELEMENT_NODE||!r.hasAttribute("data-tipo"));)r=r.parentElement;for(;e!==r&&e;)e=e.nextElementSibling,this._definirTipo(e,t)}this.atualizarContexto()}},{key:"_definirTipo",value:function(t,e){if(t.getAttribute("data-tipo")!==e){t.setAttribute("data-tipo",e),t.classList.remove("unico");try{this._normalizarContexto()}finally{this.controleAlteracao.alterado=!0}}}},{key:"_normalizarDispositivo",value:function(t,e){for(;t&&!t.hasAttribute("data-tipo");)t=t.parentElement;if(t){if(e){if(!(e instanceof d.default))throw"Conexto não é instância de ContextoArticulacao."}else e=new d.default(this._elemento,t);if(e&&!e.permissoes[t.getAttribute("data-tipo")])try{var o=t.previousElementSibling;this._normalizarDispositivo(o),t.setAttribute("data-tipo",a(o.getAttribute("data-tipo")||"continuacao",e.permissoes)),this._normalizarDispositivo(t.nextElementSibling)}catch(e){t.setAttribute("data-tipo","artigo"),console.error(e)}"paragrafo"===t.getAttribute("data-tipo")&&this._normalizarParagrafo(t)}}},{key:"_normalizarParagrafo",value:function(t){var e=(0,N.encontrarDispositivoAnteriorDoTipo)(t,["artigo","paragrafo"]),o=(0,N.encontrarDispositivoPosteriorDoTipo)(t,["artigo","paragrafo"]);if("paragrafo"===t.getAttribute("data-tipo")||"continuacao"===t.getAttribute("data-tipo"))if(t.classList.toggle("unico",!(e&&"paragrafo"===e.getAttribute("data-tipo")||o&&"paragrafo"===o.getAttribute("data-tipo"))),e&&"paragrafo"===e.getAttribute("data-tipo")&&e.classList.remove("unico"),o&&"paragrafo"===o.getAttribute("data-tipo")&&o.classList.remove("unico"),e&&e.classList.contains("semOrdinal"))t.classList.add("semOrdinal");else{var n=void 0,r=void 0;for(n=1,r=e;n<10&&r&&"paragrafo"===r.getAttribute("data-tipo");n++)r=(0,N.encontrarDispositivoAnteriorDoTipo)(r,["artigo","paragrafo"]);t.classList.toggle("semOrdinal",n>=10)}else!e||"paragrafo"!==e.getAttribute("data-tipo")||o&&"paragrafo"===o.getAttribute("data-tipo")?e&&"paragrafo"===e.getAttribute("data-tipo")||!o||"paragrafo"!==o.getAttribute("data-tipo")||this._normalizarParagrafo(o):e.classList.add("unico")}},{key:"vazio",get:function(){return!this._elemento.firstElementChild||this._elemento.firstElementChild===this._elemento.lastElementChild&&""===this._elemento.textContent}},{key:"lexml",get:function(){try{return this.vazio?document.createDocumentFragment():(0,O.default)(this._elemento,this.opcoes.rotulo)}catch(e){if(e instanceof M.default){for(var t=this._elemento.firstElementChild;t;t=t.nextElementSibling)this._normalizarDispositivo(t);return(0,O.default)(this._elemento)}throw e}},set:function(t){var e=(0,w.default)(t);if(this._elemento.innerHTML="",this._elemento.appendChild(e),this.vazio&&this.limpar(),!this.opcoes.somenteLeitura&&(this.controleAlteracao.comprometer(),this.opcoes.validarAoAtribuir))for(var o=this._elemento.firstElementChild;o;o=o.nextElementSibling)this.validacaoCtrl.validar(o)}},{key:"lexmlString",get:function(){var t=this.lexml,e=new XMLSerializer,o=e.serializeToString(t);return this.opcoes.escaparXML?c(o):o},set:function(t){this.lexml=t}},{key:"alterado",get:function(){return this.controleAlteracao.alterado}}]),t}();e.default=F},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=o(2),c=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function(t){function e(t,o,i,a){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"transformacao",{detail:{automatica:!0,tipoAnterior:o,novoTipo:i,transformacao:a,editorArticulacaoCtrl:t}}))}return i(e,t),e}(c.default);e.default=u},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),i=function(){function t(e,o){n(this,t),this.dispositivo=e,this.mensagem=o}return r(t,[{key:"tipo",get:function(){return dispositivo.tagName}}]),t}();e.default=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={escaparXML:!1,rotulo:{separadorArtigo:" –",separadorArtigoSemOrdinal:" –",separadorParagrafo:" –",separadorParagrafoSemOrdinal:" –",separadorParagrafoUnico:" –",separadorInciso:" –",separadorAlinea:")",separadorItem:")"},shadowDOM:!1,somenteLeitura:!1,transformacaoAutomatica:!0,validarAoAtribuir:!0,validacao:{caixaAlta:!0,citacao:!0,enumeracaoElementos:!0,inicialMaiuscula:!0,pontuacao:!0,pontuacaoEnumeracao:!0,sentencaUnica:!0}}},function(t,e,o){"use strict";function n(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"==typeof btoa){var i=r(n);return[o].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([i]).join("\n")}return[o].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(n[i]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),e.push(a))}},e}},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return t.ctrlArticulacao=new s.default(t,e),Object.defineProperty(t,"lexml",{get:function(){return this.ctrlArticulacao.lexml},set:function(t){this.ctrlArticulacao.lexml=t}}),t.ctrlArticulacao}function i(t,e){return t.componenteEdicao=new c.default(t,e),Object.defineProperty(t,"lexml",{get:function(){return this.componenteEdicao.ctrl.lexml},set:function(t){this.componenteEdicao.ctrl.lexml=t}}),t.componenteEdicao}var a=o(12),c=n(a),u=o(6),s=n(u),l=o(4),f=n(l);window.silegismgEditorArticulacao=i,window.silegismgEditorArticulacaoController=r,window.silegismgInterpretadorArticulacao=f.default},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var i=o(13),a=n(i),c=o(6),u=n(c),s=function t(e,o){function n(t){l.alterarTipoDispositivoSelecionado(t.target.getAttribute("data-tipo-destino")),i.focus()}r(this,t);var i,c,s,l;if(o.shadowDOM&&"attachShadow"in e){var f=e.attachShadow({mode:"string"==typeof o.shadowDOM?o.shadowDOM:"open"});f.innerHTML=a.default.toString(),i=f.querySelector(".silegismg-editor-conteudo"),s=f.querySelector(".silegismg-editor-botoes"),c=s.querySelectorAll("button[data-tipo-destino]"),e.addEventListener("focus",function(t){return i.focus()}),e.focus=function(){i.focus()},e.ctrlArticulacao=this.ctrl=l=new u.default(i,o)}else e.innerHTML=a.default.toString(),i=e.querySelector(".silegismg-editor-conteudo"),s=e.querySelector(".silegismg-editor-botoes"),c=e.querySelectorAll("button[data-tipo-destino]"),e.ctrlArticulacao=this.ctrl=l=new u.default(i,o);this.ctrl.dispatchEvent=function(t){return e.dispatchEvent(t.getCustomEvent())};for(var p=0;p<c.length;p++)c[p].addEventListener("click",n.bind(this));e.addEventListener("contexto",function(t){for(var e=0;e<c.length;e++)c[e].disabled=!t.detail.permissoes[c[e].getAttribute("data-tipo-destino")],c[e].classList.remove("atual");var o=s.querySelector('button[data-tipo-destino="'+t.detail.cursor.tipo+'"]');o&&o.classList.add("atual")}),e.addEventListener("scroll",function(t){s.style.position="relative",s.style.top=e.scrollTop+"px"})};e.default=s},function(t,e){t.exports=' <style rel=stylesheet/css>.silegismg-editor-base{border:solid 1px #ccc;border-top:none}.silegismg-editor-base .silegismg-editor-botoes{background:#ccc;padding:18px 4px 4px 4px}.silegismg-editor-base .silegismg-editor-botoes .silegismg-editor-botoes-agrupamento{display:inline-block;margin-right:1ex}.silegismg-editor-base .silegismg-editor-botoes .silegismg-editor-botoes-agrupamento:before{content:attr(data-agrupamento);position:absolute;margin-top:-1.3em;font-size:12px}.silegismg-editor-base .silegismg-editor-botoes button[disabled]{opacity:.5}.silegismg-editor-base .silegismg-editor-botoes button.atual{background:#fff;color:#000;border:#fff 2px;padding:2px 1ex;font-weight:bolder}.silegismg-editor-base .silegismg-editor-conteudo{margin:2ex}</style> <div class=silegismg-editor-base> <div class=silegismg-editor-botoes> <div class=silegismg-editor-botoes-agrupamento data-agrupamento="Divisão do texto"> <button data-tipo-destino=titulo>Título</button> <button data-tipo-destino=capitulo>Capítulo</button> <button data-tipo-destino=secao>Seção</button> <button data-tipo-destino=subsecao>Subseção</button> </div> <div class=silegismg-editor-botoes-agrupamento data-agrupamento="Formatação de dispositivos"> <button data-tipo-destino=continuacao>Continuação</button> <button data-tipo-destino=artigo>Artigo</button> <button data-tipo-destino=paragrafo>Parágrafo</button> <button data-tipo-destino=inciso>Inciso</button> <button data-tipo-destino=alinea>Alínea</button> <button data-tipo-destino=item>Item</button> </div> </div> <div class=silegismg-editor-conteudo> </div> </div>'},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=o(2),c=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function(t){function e(t){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"contexto",{detail:t}))}return i(e,t),e}(c.default);e.default=u},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){var e=t.getAttribute("data-tipo");if(!e)return null;for(;"continuacao"===e;)dispositvo=t.previousElementSibling,e=t.getAttribute("data-tipo");for(var o={parte:[],livro:[],titulo:[],capitulo:["titulo"],secao:["capitulo","titulo"],subsecao:["secao","capitulo","titulo"],artigo:[],paragrafo:["artigo"],inciso:["paragrafo","artigo"],alinea:["inciso"],item:["alinea"]}[e].reduce(function(t,e){return t[e]=!0,t},{}),n=t.previousElementSibling;n;n=n.previousElementSibling){var r=n.getAttribute("data-tipo");if(r===e)return!1;if(o[r])return!0}return!0}function i(t,e){for(;t&&!t.hasAttribute("data-tipo")&&t!==e;)t=t.parentElement;if(!t||t===e)return null;for(var o=t.previousElementSibling;o;o=o.previousElementSibling)if(o.hasAttribute("data-tipo")){var n=o.getAttribute("data-tipo");if("continuacao"!==n)return o}return null}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=function(){function t(e,o){function a(t,e){return t&&s.call(t,'p[data-tipo="'+e+'"] ~ *')}n(this,t);for(var c={italico:"I"===o.tagName,desconhecido:!1,titulo:!1,capitulo:!1,secao:!1,subsecao:!1,artigo:!1,continuacao:!1,paragrafo:!1,inciso:!1,alinea:!1,item:!1,raiz:!1,elemento:o,get tipo(){return this.dispositivo?this.dispositivo.getAttribute("data-tipo"):"desconhecido"}};o&&o!==e&&!o.hasAttribute("data-tipo");)o=o.parentElement;for(c.dispositivo=o!==e?o:null;o&&"continuacao"===o.getAttribute("data-tipo");)o=o.previousElementSibling,c.continuacao=!0;o?o===e?o.raiz=!0:o.hasAttribute("data-tipo")?c[o.getAttribute("data-tipo")]=!0:c.desconhecido=!0:c.desconhecido=!0;var u=void 0;Object.defineProperty(c,"primeiroDoTipo",{get:function(){return void 0===u&&(u=o&&r(o)),u}}),c.dispositivoAnterior=o&&i(o,e),c.tipoAnterior=c.dispositivoAnterior&&c.dispositivoAnterior.getAttribute("data-tipo");var s=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.onMatchesSelector||function(){return!0},l="titulo"===c.tipoAnterior||"capitulo"===c.tipoAnterior||"secao"===c.tipoAnterior||"subsecao"===c.tipoAnterior,f={titulo:!l,capitulo:!l||"titulo"===c.tipoAnterior,get secao(){return(!l||"capitulo"===c.tipoAnterior)&&a(c.dispositivo,"capitulo")},get subsecao(){return(!l||"secao"===c.tipoAnterior)&&a(c.dispositivo,"secao")},artigo:!0,continuacao:"artigo"===c.tipoAnterior||c.continuacao,inciso:!l&&(!c.artigo||c.artigo&&!c.primeiroDoTipo),paragrafo:!l&&(!c.artigo||c.artigo&&(!c.primeiroDoTipo||c.continuacao)),alinea:c.inciso&&!c.primeiroDoTipo||"inciso"===c.tipoAnterior||"alinea"===c.tipoAnterior||"item"===c.tipoAnterior,item:c.alinea&&!c.primeiroDoTipo||"alinea"===c.tipoAnterior||"item"===c.tipoAnterior};Object.defineProperty(this,"cursor",{value:c}),Object.defineProperty(this,"permissoes",{value:f}),Object.freeze(this),Object.freeze(c),Object.freeze(f)}return a(t,[{key:"comparar",value:function(t){for(var e in this.cursor)if(this.cursor[e]!==t.cursor[e])return!0;for(var o in this.permissoes)if(this.permissoes[o]!==t.permissoes[o])return!0;return!1}},{key:"valido",get:function(){return this.permissoes[this.cursor.tipo]}}]),t}();e.default=c},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var o={},n=[];i(o,new u.default),i(o,new l.default),i(o,new p.default),i(o,new m.default),i(o,new h.default),t.registrarEventListener("keypress",function(r){return n=a(r,o,n,t,e)}),t.registrarEventListener("mouseup",function(t){return n=[]}),t.registrarEventListener("touchend",function(t){return n=[]})}function i(t,e){e.sequencias.forEach(function(o){var n,r,i=t,a=e.transformar.bind(e);for(n=0;n<o.length;n++)r=o.charCodeAt(n),i[r]||(i[r]={}),i=i[r];var c={sequencia:o,handler:a};i.$handler?i.$handler.push(c):i.$handler=[c]})}function a(t,e,o,n,r){var i=[],a=t.charCode||t.keyCode;return o.forEach(function(t){t[a]&&i.push(t[a])}),e[a]&&i.push(e[a]),i.forEach(function(e){e.$handler&&e.$handler.forEach(function(e){return e.handler(r,n,n.contexto,e.sequencia.replace(/\r/g,"\n"),t)})}),i}Object.defineProperty(e,"__esModule",{value:!0});var c=o(17),u=n(c),s=o(18),l=n(s),f=o(19),p=n(f),d=o(20),m=n(d),g=o(21),h=n(g);e.default=r},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(1),u=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,":\n"))}return i(e,t),a(e,[{key:"proximoTipo",value:function(t,e,o){return{artigo:"inciso",inciso:"alinea",alinea:"item",paragrafo:"inciso"}[o.cursor.tipo]}},{key:"tipoTransformacao",get:function(){return"DoisPontos"}}]),e}(c.TransformacaoDoProximo);e.default=u},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(1),u=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,".\n"))}return i(e,t),a(e,[{key:"proximoTipo",value:function(t,e,o){return{get inciso(){var t=o.cursor.dispositivo,e=void 0;do{t=t.previousElementSibling,e=t.getAttribute("data-tipo")}while("artigo"!==e&&"paragrafo"!==e);return e},alinea:"inciso",item:"alinea"}[o.cursor.tipo]}},{key:"tipoTransformacao",get:function(){return"PontoFinal"}}]),e}(c.TransformacaoDoProximo);e.default=u},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(1),u=o(7),s=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,'\n"'))}return i(e,t),a(e,[{key:"transformar",value:function(t,e,o){return"artigo"===o.cursor.tipoAnterior&&(e.alterarTipoDispositivoSelecionado("continuacao"),e.dispatchEvent(new s.default(e,"artigo","continuacao",this.tipoTransformacao))),null}},{key:"tipoTransformacao",get:function(){return"AoIniciarAspas"}}]),e}(c.Transformacao);e.default=l},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(1),u=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,'"\n','".\n'))}return i(e,t),a(e,[{key:"proximoTipo",value:function(t,e,o){return o.cursor.artigo&&o.cursor.continuacao?"artigo":null}},{key:"tipoTransformacao",get:function(){return"AoFecharAspas"}}]),e}(c.TransformacaoDoProximo);e.default=u},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(1),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"\n"))}return i(e,t),a(e,[{key:"transformar",value:function(t,e,o,n,r){if(0===o.cursor.dispositivo.textContent.trim().length){var i={item:"alinea",alinea:"inciso",get inciso(){for(var t=o.cursor.dispositivoAnterior;t;t=t.previousElementSibling){var e=t.getAttribute("data-tipo");if("artigo"===e||"paragrafo"===e)return e}return"artigo"}}[o.cursor.tipo]||"artigo";e.alterarTipoDispositivoSelecionado(i),r.preventDefault()}}},{key:"tipoTransformacao",get:function(){return"RecuarComEnterEmDispositivoVazio"}}]),e}(u.default);e.default=s},function(t,e,o){"use strict";function n(t){(0,u.interceptar)(t,"alterarTipoDispositivoSelecionado",r),t.registrarEventListener("keydown",function(e){return c(e,t)}),t.limpar=function(){this._elemento.innerHTML='<p data-tipo="artigo" style="min-height: 1em;"><br>\n</p>'}}function r(t,e,o){for(var n=t.contexto.cursor.dispositivo,r=i(n),c=e.apply(t,o),u=i(n,r.hash),s=0,l=t.contexto.cursor.dispositivo.nextElementSibling;l&&s<u.total;l=l.nextElementSibling){var f=l.getAttribute("data-tipo"),p=i(l);u.hash[f]&&a(l);for(var d in p.hash)u.hash[d]&&(u.hash[d]=!1,s++)}return c}function i(t,e){for(var o=getComputedStyle(t).counterReset,n={},r=0,i=/(.+?)\s\d+\s*/g,a=i.exec(o);a;a=i.exec(o)){var c=a[1];e&&e[c]||(n[c]=!0,r++)}return{total:r,hash:n}}function a(t){var e=t.getAttribute("data-tipo");t.removeAttribute("data-tipo"),setTimeout(function(){return t.setAttribute("data-tipo",e)})}function c(t,e){if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&1===t.key.length||"Delete"===t.key||"Backspace"===t.key||"Enter"===t.key){var o=e.getSelection(),n=o.getRangeAt(0);if(!n.collapsed){var r=n.startContainer.parentNode,i=n.endContainer.parentNode;n.deleteContents(),"Delete"!==t.key&&"Backspace"!==t.key||t.preventDefault(),r!==i?(r!=e._elemento&&0===r.textContent.length&&r.remove(),i!=e._elemento&&0===i.textContent.length&&i.remove(),0===e._elemento.children.length&&e.limpar()):0===r.textContent.length&&0===r.children.length&&(r.innerHTML="<br>")}}}Object.defineProperty(e,"__esModule",{value:!0});var u=o(3);e.default=n},function(t,e,o){"use strict";function n(t){t.limpar=function(){this._elemento.innerHTML='<p data-tipo="artigo">&nbsp;</p>'},(0,i.interceptar)(DOMTokenList.prototype,"toggle",function(t,e,o){1===o.length?e.apply(t,o):o[1]?t.add(o[0]):t.remove(o[0])}),0===new Set([1,2]).size&&r(),(0,i.interceptarApos)(t,"_normalizarDispositivo",function(t,e,o){var n=o[0];n&&!n.firstElementChild&&""===n.textContent&&(n.innerHTML="&nbsp;")})}function r(){var t=window.Set;window.Set=function(e){if(this.$set=new t,e)for(var o in e)this.$set.add(e[o])};for(var e=["add","clear","delete","entries","forEach","has","keys","values","@@iterator"],o=0;o<e.length;o++)!function(e){"function"==typeof t.prototype[e]&&(window.Set.prototype[e]=function(){return this.$set[e].apply(this.$set,arguments)})}(e[o])}Object.defineProperty(e,"__esModule",{value:!0});var i=o(3);e.default=n},function(t,e,o){"use strict";function n(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),o=1;o<arguments.length;o++){var n=arguments[o];if(void 0!==n&&null!==n){n=Object(n);for(var r=Object.keys(Object(n)),i=0,a=r.length;i<a;i++){var c=r[i],u=Object.getOwnPropertyDescriptor(n,c);void 0!==u&&u.enumerable&&(e[c]=n[c])}}}return e}}),"lastElementChild"in DocumentFragment.prototype||Object.defineProperty(DocumentFragment.prototype,"lastElementChild",{get:function(){for(var t=this.lastChild;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.previousSibling;return t}})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n},function(t,e,o){"use strict";function n(t,e){if(e||(e=document.createDocumentFragment()),!t)return e;if(t instanceof NodeList||t instanceof HTMLCollection)for(var o=0;o<t.length;o++)n(t[o],e);else if("string"==typeof t){var c=document.createElement("div");c.innerHTML=t,n(c.children,e)}else switch(t.tagName){case"ARTICULACAO":n(t.children,e);break;case"TITULO":case"CAPITULO":case"SECAO":case"SUBSECAO":e.appendChild(r(t.tagName.toLowerCase(),t.querySelector("NomeAgrupador").innerHTML)),n(t.children,e);break;case"NOMEAGRUPADOR":case"ROTULO":case"P":break;case"ARTIGO":a(t,"Caput > p",function(t){return 0===t?"artigo":"continuacao"},e),/\d+º?-[A-Z]/.test(t.querySelector("Rotulo").textContent)&&e.lastElementChild.classList.add("emenda");var u=t.querySelectorAll("Caput > Inciso");n(u,e);var s=t.querySelectorAll("Paragrafo"),l=e.lastElementChild;n(s,e),1===s.length&&l.nextElementSibling.classList.add("unico");break;case"INCISO":case"ALINEA":case"ITEM":case"PARAGRAFO":var f=i(t);a(f,null,t.tagName.toLowerCase(),e),n(t.children,e);break;default:throw"Elemento não esperado: "+t.tagName}return e}function r(t,e){var o=document.createElement("p");return o.setAttribute("data-tipo",t),o.innerHTML=e,o}function i(t){for(var e=t.firstElementChild;"P"!==e.tagName;)e=e.nextElementSibling;return e}function a(t,e,o,n){var r=void 0;switch(void 0===o?"undefined":c(o)){case"string":r=function(){return o};break;case"function":r=o;break;default:throw new Error("Tipo final não é literal nem função.")}if(e)for(var i=t.querySelectorAll(e),a=0;a<i.length;a++){var u=i[a].cloneNode(!0);u.setAttribute("data-tipo",r(a,u)),n.appendChild(u)}else{var s=t.cloneNode(!0);s.setAttribute("data-tipo",r(0,s)),n.appendChild(s)}return n}Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=n},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){var o=0;e||(e=_.default.rotulo);var n=function(){function t(e,n){a(this,t),this.dispositivoLexML=e,this.contextoAnterior=n,this.cntSubitens={get Artigo(){return o},set Artigo(t){o=t}}}return A(t,[{key:"getIdReferencia",value:function(t){return this.dispositivoLexML.id}},{key:"adicionarSubitem",value:function(t){this.cntSubitens[t.tagName]=this.cntSubitens[t.tagName]?this.cntSubitens[t.tagName]+1:1,this.dispositivoLexML.appendChild(t)}},{key:"adicionarSubitemEmendado",value:function(t){this.dispositivoLexML.appendChild(t)}},{key:"adicionarProximo",value:function(t){this.dispositivoLexML.parentNode.appendChild(t)}},{key:"possuiSubtipo",value:function(t){switch(this.tipo){case"Articulacao":return"Artigo"===t||"Titulo"===t||"Capitulo"===t||"Secao"===t||"Livro"===t||"Parte"===t;case"Parte":return"Livro"===t;case"Livro":return"Titulo"===t;case"Titulo":return"Capitulo"===t||"Artigo"===t;case"Capitulo":return"Secao"===t||"Artigo"===t;case"Secao":return"Subsecao"===t||"Artigo"===t;case"Subsecao":return"Artigo"===t;case"Artigo":return"Inciso"===t||"Paragrafo"===t;case"Inciso":return"Alinea"===t;case"Alinea":return"Item"===t;case"Item":return!1;case"Paragrafo":return"Inciso"===t;default:throw"Tipo desconhecido: "+this.tipo}}},{key:"contarSubitens",value:function(t){return this.cntSubitens[t]||0}},{key:"id",get:function(){return this.dispositivoLexML.id}},{key:"tipo",get:function(){return this.dispositivoLexML.tagName}}]),t}(),c=function(t){function e(){return a(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),A(e,[{key:"getIdReferencia",value:function(t){return"Inciso"===t?this.dispositivoLexML.id+"_cpt":this.dispositivoLexML.id}},{key:"adicionarSubitem",value:function(t){"p"===t.tagName||"Inciso"===t.tagName?this.dispositivoLexML.querySelector("Caput").appendChild(t):this.dispositivoLexML.appendChild(t),this.cntSubitens[t.tagName]=this.cntSubitens[t.tagName]?this.cntSubitens[t.tagName]+1:1}}]),e}(n),s=function(t){function e(){return a(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return i(e,t),A(e,[{key:"getIdReferencia",value:function(t){return"Artigo"===t?null:b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getIdReferencia",this).call(this,t)}}]),e}(n),l=document.createElementNS("http://www.lexml.gov.br/1.0","Articulacao"),p=new n(l);for(t.classList.contains("silegismg-editor-articulacao")&&(t=t.firstElementChild);t;){var d=t.getAttribute("data-tipo").replace(/^[a-z]/,function(t){return t.toUpperCase()});if("Continuacao"===d){var m=f(t);p.adicionarSubitem(m)}else{for(;p&&!p.possuiSubtipo(d);)p=p.contextoAnterior;if(!p)throw new y.default(t,'Dispositivo do tipo "'+d.toLowerCase()+'" inesperado neste ponto.');t.classList.contains("emenda")?p.nEmenda++:p.nEmenda=0;var g=u(d,t,p.getIdReferencia(d),p.contarSubitens(d),t.classList.contains("unico"),p.nEmenda,e);"Paragrafo"===d&&t.classList.contains("unico")&&(g.id=g.id+"u"),p.nEmenda?p.adicionarSubitemEmendado(g):p.adicionarSubitem(g),p=function(t,e){switch(t.tagName){case"Artigo":return new c(t,e);case"Parte":case"Titulo":case"Capitulo":case"Secao":case"Subsecao":return new s(t,e);default:return new n(t,e)}}(g,p)}t=t.nextElementSibling}return l}function u(t,e,o,n,r,i,a){var c,u;switch(u=t.substr(0,3).toLowerCase(),u=o?o+"_"+u:u,u+=i?n+"-"+i:n+1,c=document.createElementNS("http://www.lexml.gov.br/1.0",t),c.setAttribute("id",u),c.appendChild(s(t,i?n:n+1,r,i,a)),t){case"Artigo":c.appendChild(l(e,u));break;case"Parte":case"Livro":case"Titulo":case"Capitulo":case"Secao":case"Subsecao":c.appendChild(d(e));break;default:c.appendChild(f(e))}return c}function s(t,e,o,n,r){var i=document.createElementNS("http://www.lexml.gov.br/1.0","Rotulo");switch(t){case"Artigo":i.innerHTML=n?"Art. "+e+(e<10?"º-":"-")+h(n,!0)+(e<10?r.separadorArtigo:r.separadorArtigoSemOrdinal):"Art. "+e+(e<10?"º"+r.separadorArtigo:r.separadorArtigoSemOrdinal);break;case"Paragrafo":i.innerHTML=o?"Parágrafo único"+r.separadorParagrafoUnico:"§ "+e+(e<10?"º"+r.separadorParagrafo:r.separadorParagrafoSemOrdinal);break;case"Inciso":i.innerHTML=g(e)+r.separadorInciso;break;case"Alinea":i.textContent=h(e)+r.separadorAlinea;break;case"Item":i.innerHTML=e+r.separadorItem;break;case"Titulo":i.textContent="Título "+g(e);break;case"Capitulo":i.textContent="Capítulo "+g(e);break;case"Secao":i.textContent="Seção "+g(e);break;case"Subsecao":i.textContent="Subseção "+g(e);break;default:throw"Tipo não suportado na formatação de rótulo: "+t}return i}function l(t,e){var o=document.createElementNS("http://www.lexml.gov.br/1.0","Caput"),n=f(t);return o.setAttribute("id",e+"_cpt"),o.appendChild(n),m(n),o}function f(t){var e=document.createElementNS("http://www.lexml.gov.br/1.0","p");return p(t,e),m(e),e}function p(t,e){for(var o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT,null,null),n={anterior:null,retrocederEm:null,destino:e},r=!0,i=null;o.nextNode();){var a=o.currentNode;if(a.parentNode===n.retrocederEm&&(n=n.anterior),a.nodeType===Node.TEXT_NODE)i=a.cloneNode(),r&&(r=!1,i.textContent=i.textContent.replace(/^\s+/,"")),n.destino.appendChild(i);else if(w.has(a.tagName)){var c=document.createElementNS("http://www.lexml.gov.br/1.0",a.tagName.toLowerCase());n.destino.appendChild(c),n={anterior:n,retrocederEm:a.parentNode,destino:c}}else if("BR"!==a.tagName)throw new y.default(t,"Elemento não permitido: "+a.tagName)}return i&&(i.textContent=i.textContent.replace(/\s+$/,"")),e}function d(t){var e=document.createElementNS("http://www.lexml.gov.br/1.0","NomeAgrupador");return p(t,e),e}function m(t){for(;t.hasAttributes();)t.removeAttribute(t.attributes[0].name);for(var e=t.children||t.childNodes,o=0;o<e.length;o++)if("p"===e[o].tagName)for(;e.length>o;){var n=e[o];if("p"===n.tagName)t.parentNode.insertBefore(n,t.nextSibling),m(n);else{var r=document.createElementNS("http://www.lexml.gov.br/1.0","p");r.appendChild(n),t.parentNode.insertBefore(r,t.nextSibling),m(r)}}}function g(t){for(var e=String(t).split(""),o=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",r=3;r--;)n=(o[+e.pop()+10*r]||"")+n;return new Array(+e.join("")+1).join("M")+n}function h(t,e){if(t<1)throw"Número deve ser positivo.";return String.fromCharCode((e?64:96)+t)}Object.defineProperty(e,"__esModule",{value:!0});var b=function t(e,o,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,o,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},A=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),v=o(8),y=n(v),C=o(9),_=n(C),w=new Set(["SPAN","B","I","A","SUB","SUP","INS","DEL","DFN"]);e.default=c},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e,o){var n;if(o)n=u(t,"continuacao");else{var r=(0,p.interpretarArticulacao)(t,"json");if(r.textoAnterior&&(n=u(r.textoAnterior,e||"artigo")),r.articulacao.length>0){var i=l(r.articulacao);n?n.appendChild(i):n=i}}return n}function i(t,e){var o=t.clipboardData||window.clipboardData,n=o.items;if(n)for(var r=0;r<n.length;r++)"text/plain"===n[r].type&&(n[r].getAsString(e.colarTexto.bind(e)),t.preventDefault());else o.getData&&(e.colarTexto(o.getData("text/plain")),t.preventDefault())}function a(t,e){c(t,e);var o=t.lastChild,n=e.getSelection(),r=n.getRangeAt(0),i=r.startContainer,a=t.firstChild.nodeType!==Node.TEXT_NODE&&i!==e._elemento&&0===i.textContent.trim().length;if(r.collapsed&&i===e._elemento){for(var u=e._elemento.querySelectorAll("br"),s=0;s<u.length;s++)u[s].remove();for(var l=e._elemento.querySelectorAll("*:empty"),f=0;f<l.length;f++)l[f].remove();for(var p=t.firstChild;p&&p.nodeType===Node.TEXT_NODE;p=t.firstChild){var d=document.createElement("p");d.appendChild(p),d.setAttribute("data-tipo","artigo"),t.insertBefore(d,t.firstElementChild)}r.insertNode(t)}else{for(var m=t.firstChild;m&&m.nodeType===Node.TEXT_NODE;m=t.firstChild)r.insertNode(m);for(var g=r.endContainer;g.parentElement!==e._elemento;)g=g.parentElement;g.parentElement.insertBefore(t,g.nextSibling)}a&&i.remove(),n.removeAllRanges(),r=document.createRange(),r.setStartAfter(o),n.addRange(r),e.atualizarContexto()}function c(t,e){for(var o=[],n=0,r=t.childNodes.length;n<r;n++)o.push(t.childNodes[n]);var i=function(){for(var t=o[0].previousSibling,n=o[o.length-1].nextSibling,r=0;r<o.length;r++)o[r].remove();u();var i=e.getSelection(),a=document.createRange();t?(a.setStartAfter(t),i.removeAllRanges(),i.addRange(a)):n&&(a.setStartBefore(n),i.removeAllRanges(),i.addRange(a))},a=function(t){!t.ctrlKey||"z"!==t.key&&"Z"!==t.key||(i(),t.preventDefault())},c=document.execCommand,u=function t(){e._elemento.removeEventListener("keydown",a),e._elemento.removeEventListener("keypress",t),document.execCommand=c};e._elemento.addEventListener("keydown",a),e._elemento.addEventListener("keypress",u),document.execCommand=function(t){if("undo"!==t)return c.apply(document,arguments);i()}}function u(t,e){if(0!==t.length){var o=document.createDocumentFragment(),n=t.indexOf("\n");if(0!==n){var r=document.createTextNode(n>0?t.substr(0,n):t);o.appendChild(r)}if(-1!==n){var i=(0,p.transformarQuebrasDeLinhaEmP)(t.substr(n+1));o.appendChild(i);var a=[];if(o.firstChild.nodeType===Node.TEXT_NODE&&o.firstChild.textContent.endsWith(":")){var c=s(e);e!==c&&(a.push(e),e=c)}for(var u=o.firstElementChild;u;u=u.nextElementSibling)if(u.setAttribute("data-tipo",e),u.textContent.endsWith(":")){var l=s(e);e!==l&&(a.push(e),e=l)}else a.length>0&&u.textContent.endsWith(".")&&(e=a.pop())}return o}}function s(t){switch(t){case"artigo":case"paragrafo":return"inciso";case"inciso":return"alinea";case"alinea":return"item";default:return null}}function l(t){var e=document.createDocumentFragment();return t.forEach(function(t){return e.appendChild(t.paraEditor())}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.transformar=e.transformarTextoPuro=e.transformarQuebrasDeLinhaEmP=e.ClipboardController=void 0;var f=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),p=(o(3),o(4)),d=function(){function t(e){var o=this;n(this,t),this.editorCtrl=e,e.registrarEventListener("paste",function(t){return i(t,o)})}return f(t,[{key:"colarTexto",value:function(t){var e=this.editorCtrl.getSelection(),o=e.getRangeAt(0);o.collapsed||(o.deleteContents(),this.editorCtrl.atualizarContexto());for(var n=(o.endContainer.nodeType===Node.TEXT_NODE?o.endContainer.parentNode:o.endContainer).querySelectorAll("br"),i=0;i<n.length;i++)n[i].remove();a(r(t,this.editorCtrl.contexto.cursor.tipo,this.editorCtrl.contexto.cursor.continuacao),this.editorCtrl)}}]),t}();e.ClipboardController=d,e.transformarQuebrasDeLinhaEmP=p.transformarQuebrasDeLinhaEmP,e.transformarTextoPuro=u,e.transformar=r,e.default=d},function(t,e,o){"use strict";function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t){return"MutationObserver"in window?new f(t):new p(t)}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=o(29),s=function(t){return t&&t.__esModule?t:{default:t}}(u),l=function(){function t(e){var o=this;i(this,t),this._editorCtrl=e,e.registrarEventListener("focus",function(t){o._comFoco=!0,o.iniciar(t.target,e)},!0),e.registrarEventListener("blur",function(t){o._comFoco=!1,o.finalizar(t.target,e),o.comprometer()},!0)}return c(t,[{key:"iniciar",value:function(t,e){throw"Não implementado"}},{key:"finalizar",value:function(t,e){throw"Não implementado"}},{key:"comprometer",value:function(){this.alterado&&(this.alterado=!1,this._editorCtrl.dispatchEvent(new s.default(this._editorCtrl)))}},{key:"alterado",get:function(){throw"Não implementado."},set:function(t){throw"Não implementado."}}]),t}(),f=function(t){function e(t){i(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o._observer=new MutationObserver(o._mutationCallback.bind(o)),o._iniciado=!1,o._alterado=!1,o}return r(e,t),c(e,[{key:"iniciar",value:function(t,e){this._conectado||(this._observer.observe(t,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._conectado=!0),this._iniciado=!0}},{key:"finalizar",value:function(t,e){this._conectado&&(this._observer.disconnect(),this._conectado=!1),this._iniciado=!1}},{key:"_mutationCallback",value:function(){try{this._conectado=!1,this._observer.disconnect()}finally{this.alterado=!0}}},{key:"alterado",get:function(){return this._alterado},set:function(t){this._alterado=t,this._alterado||this._conectado||!this._comFoco||this.iniciar(this._editorCtrl._elemento,this._editorCtrl),this._alterado&&!this._comFoco&&this.comprometer(),this._alterado&&this.finalizar()}}]),e}(l),p=function(t){function e(t){i(this,e);var o=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o._alteradoCache=!1,o}return r(e,t),c(e,[{key:"iniciar",value:function(t,e){this._lexml=e.lexmlString}},{key:"finalizar",value:function(t,e){}},{key:"alterado",get:function(){return!!this._alteradoCache||(this._alteradoCache=this._editorCtrl.lexmlString!==this._lexml,this._alteradoCache)},set:function(t){this._lexml=t?"":this._editorCtrl.lexmlString,this._alteradoCache=!!t,t&&!this._comFoco&&this.comprometer()}}]),e}(l);e.default=a},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=o(2),c=function(t){return t&&t.__esModule?t:{default:t}}(a),u=function(t){function e(t){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"change",{bubbles:!0,cancelable:!1}))}return i(e,t),e}(c.default);e.default=u},function(t,e,o){e=t.exports=o(10)(!0),e.push([t.i,'.silegismg-editor-articulacao{counter-reset:parte livro titulo capitulo secao subsecao artigo;outline:none}.silegismg-editor-articulacao p:before{font-weight:bolder;animation:.25s ease-in rotulo}.silegismg-editor-articulacao p[data-tipo]:before{display:inline-block;margin-right:1ex;text-indent:0}.silegismg-editor-articulacao p{text-indent:4ex;text-align:justify;border-left:2px solid transparent;padding-left:1ex}.silegismg-editor-articulacao p[data-invalido]{border-left-color:red}.silegismg-editor-articulacao p[data-invalido]:after{display:block;content:attr(data-invalido);color:red;text-indent:0;margin-left:auto;font-size:90%}.silegismg-editor-articulacao p[data-tipo=titulo]:before{content:"T\\EDtulo " counter(titulo,upper-roman);counter-increment:titulo;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=titulo]{counter-reset:capitulo;text-transform:uppercase;font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=capitulo]:before{content:"Cap\\EDtulo " counter(capitulo,upper-roman);counter-increment:capitulo;display:block;text-align:center;font-weight:400;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=capitulo]{counter-reset:secao;text-transform:uppercase;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=secao]:before{content:"Se\\E7\\E3o " counter(secao,upper-roman);counter-increment:secao;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=secao]{counter-reset:subsecao;font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=subsecao]:before{content:"Subse\\E7\\E3o " counter(subsecao,upper-roman);counter-increment:subsecao;display:block;text-align:center;margin-right:0;text-indent:0}.silegismg-editor-articulacao p[data-tipo=subsecao]{font-weight:bolder;font-size:110%;text-align:center;text-indent:0}.silegismg-editor-articulacao p[data-tipo=artigo]:before{content:"Art. " counter(artigo) "\\BA" "${separadorArtigo}";counter-increment:artigo}.silegismg-editor-articulacao p[data-tipo=artigo].emenda:before{content:"Art. " counter(artigo) "\\BA-" counter(emenda,upper-latin) "${separadorArtigo}";counter-increment:emenda}.silegismg-editor-articulacao p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda):before{content:"Art. " counter(artigo) "${separadorArtigoSemOrdinal}"}.silegismg-editor-articulacao p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo]:not(.emenda)~p[data-tipo=artigo].emenda:before{content:"Art. " counter(artigo) "-" counter(emenda,upper-latin) "${separadorArtigoSemOrdinal}"}.silegismg-editor-articulacao p[data-tipo=artigo]{counter-reset:paragrafo inciso emenda}.silegismg-editor-articulacao p[data-tipo=artigo].emenda{counter-reset:paragrafo inciso}.silegismg-editor-articulacao p[data-tipo=paragrafo]{counter-reset:inciso}.silegismg-editor-articulacao p[data-tipo=paragrafo]:before{content:"\\A7   " counter(paragrafo) "\\BA" "${separadorParagrafo}";counter-increment:paragrafo}.silegismg-editor-articulacao p.semOrdinal[data-tipo=paragrafo]:before{content:"\\A7   " counter(paragrafo) "${separadorParagrafoSemOrdinal}";counter-increment:paragrafo}.silegismg-editor-articulacao p[data-tipo=paragrafo].unico:before{content:"Par\\E1grafo \\FAnico${separadorParagrafoUnico}"}.silegismg-editor-articulacao p[data-tipo=inciso]{counter-reset:alinea}.silegismg-editor-articulacao p[data-tipo=inciso]:before{content:counter(inciso,upper-roman) "${separadorInciso}";counter-increment:inciso}.silegismg-editor-articulacao p[data-tipo=alinea]{counter-reset:item}.silegismg-editor-articulacao p[data-tipo=alinea]:before{content:counter(alinea,lower-latin) "${separadorAlinea}";counter-increment:alinea}.silegismg-editor-articulacao p[data-tipo=item]:before{content:counter(item) "${separadorItem}";counter-increment:item}.silegismg-editor-articulacao>:first-child{margin-top:0}.silegismg-editor-articulacao>:last-child{margin-bottom:0}@keyframes rotulo{0%{opacity:0}10%{opacity:0}to{opacity:1}}',"",{version:3,sources:["/home/msfernandes/Documents/repositories/editor-articulacao/src/editor-articulacao.css"],names:[],mappings:"AAiBA,8BACE,gEAAiE,AACjE,YAAc,CACf,AAED,uCACE,mBAAoB,AACpB,6BAA+B,CAChC,AAED,kDACE,qBAAsB,AACtB,iBAAkB,AAClB,aAAe,CAChB,AAED,gCACE,gBAAiB,AACjB,mBAAoB,AACpB,kCAAmC,AACnC,gBAAkB,CACnB,AAED,+CACE,qBAAuB,CACxB,AAED,qDACE,cAAe,AACf,4BAA6B,AAC7B,UAAW,AACX,cAAe,AACf,iBAAkB,AAClB,aAAe,CAUhB,AAED,yDACE,gDAAgD,AAChD,yBAA0B,AAC1B,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,kDACE,uBAAwB,AACxB,yBAA0B,AAC1B,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,2DACE,oDAAoD,AACpD,2BAA4B,AAC5B,cAAe,AACf,kBAAmB,AACnB,gBAAoB,AACpB,eAAgB,AAChB,aAAe,CAChB,AAED,oDACE,oBAAqB,AACrB,yBAA0B,AAC1B,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,wDACE,gDAA8C,AAC9C,wBAAyB,AACzB,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,iDACE,uBAAwB,AACxB,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAED,2DACE,sDAAoD,AACpD,2BAA4B,AAC5B,cAAe,AACf,kBAAmB,AACnB,eAAgB,AAChB,aAAe,CAChB,AAED,oDACE,mBAAoB,AACpB,eAAgB,AAChB,kBAAmB,AACnB,aAAe,CAChB,AAGD,yDACE,2DAA0D,AAC1D,wBAA0B,CAC3B,AAED,gEACE,wFAAwF,AACxF,wBAA0B,CAC3B,AAID,+WACE,8DAAgE,CACjE,AAED,0YACE,8FAAiG,CAClG,AAED,kDACE,qCAAuC,CACxC,AAED,yDACE,8BAAgC,CACjC,AAED,qDACE,oBAAsB,CACvB,AAED,4DACE,kEAA6D,AAC7D,2BAA6B,CAC9B,AAED,uEACE,sEAAmE,AACnE,2BAA6B,CAC9B,AAED,kEACE,uDAAqD,CACtD,AAED,kDACE,oBAAsB,CACvB,AAED,yDACE,yDAA2D,AAC3D,wBAA0B,CAC3B,AAED,kDACE,kBAAoB,CACrB,AAED,yDACE,yDAA2D,AAC3D,wBAA0B,CAC3B,AAED,uDACE,yCAA0C,AAC1C,sBAAwB,CACzB,AAKD,2CACE,YAAc,CACf,AAKD,0CACE,eAAiB,CAClB,AAED,kBACE,GACE,SAAW,CACZ,AACD,IACE,SAAW,CACZ,AACD,GACE,SAAW,CACZ,CACF",file:"editor-articulacao.css",sourcesContent:["/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n.silegismg-editor-articulacao {\n  counter-reset: parte livro titulo capitulo secao subsecao artigo;\n  outline: none;\n}\n\n.silegismg-editor-articulacao p:before {\n  font-weight: bolder;\n  animation: .25s ease-in rotulo;\n}\n\n.silegismg-editor-articulacao p[data-tipo]:before {\n  display: inline-block; /* Resolve problema de cursor antes do rótulo no chrome */\n  margin-right: 1ex;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p {\n  text-indent: 4ex;\n  text-align: justify;\n  border-left: solid 2px transparent;\n  padding-left: 1ex;\n}\n\n.silegismg-editor-articulacao p[data-invalido] {\n  border-left-color: red;\n}\n\n.silegismg-editor-articulacao p[data-invalido]:after {\n  display: block;\n  content: attr(data-invalido);\n  color: red;\n  text-indent: 0;\n  margin-left: auto;\n  font-size: 90%;\n\n/*\n  white-space: nowrap;\n  text-overflow: clip;\n  overflow: hidden;\n  max-width: 2ex;\n  vertical-align: middle;\n  margin-left: 1ex;\n*/\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"titulo\"]:before {\n  content: 'Título ' counter(titulo, upper-roman);\n  counter-increment: titulo;\n  display: block;\n  text-align: center;\n  margin-right: 0;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"titulo\"] {\n  counter-reset: capitulo;\n  text-transform: uppercase;\n  font-weight: bolder;\n  font-size: 110%;\n  text-align: center;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"capitulo\"]:before {\n  content: 'Capítulo ' counter(capitulo, upper-roman);\n  counter-increment: capitulo;\n  display: block;\n  text-align: center;\n  font-weight: normal;\n  margin-right: 0;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"capitulo\"] {\n  counter-reset: secao;\n  text-transform: uppercase;\n  font-size: 110%;\n  text-align: center;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"secao\"]:before {\n  content: 'Seção ' counter(secao, upper-roman);\n  counter-increment: secao;\n  display: block;\n  text-align: center;\n  margin-right: 0;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"secao\"] {\n  counter-reset: subsecao;\n  font-weight: bolder;\n  font-size: 110%;\n  text-align: center;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"subsecao\"]:before {\n  content: 'Subseção ' counter(subsecao, upper-roman);\n  counter-increment: subsecao;\n  display: block;\n  text-align: center;\n  margin-right: 0;\n  text-indent: 0;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"subsecao\"] {\n  font-weight: bolder;\n  font-size: 110%;\n  text-align: center;\n  text-indent: 0;\n}\n\n\n.silegismg-editor-articulacao p[data-tipo=\"artigo\"]:before {\n  content: 'Art. ' counter(artigo) 'º' '${separadorArtigo}';\n  counter-increment: artigo;\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"artigo\"].emenda:before {\n  content: 'Art. ' counter(artigo) 'º-' counter(emenda, upper-latin) '${separadorArtigo}';\n  counter-increment: emenda;\n}\n\n/* A partir do artigo 10, não se usa \"º\" */\n\n.silegismg-editor-articulacao p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda):before {\n  content: 'Art. ' counter(artigo) '${separadorArtigoSemOrdinal}';\n}\n\n.silegismg-editor-articulacao p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"]:not(.emenda) ~ p[data-tipo=\"artigo\"].emenda:before {\n  content: 'Art. ' counter(artigo) '-' counter(emenda, upper-latin) '${separadorArtigoSemOrdinal}';\n}\n\n.silegismg-editor-articulacao p[data-tipo='artigo'] {\n  counter-reset: paragrafo inciso emenda;\n}\n\n.silegismg-editor-articulacao p[data-tipo='artigo'].emenda {\n  counter-reset: paragrafo inciso;\n}\n\n.silegismg-editor-articulacao p[data-tipo='paragrafo'] {\n  counter-reset: inciso;\n}\n\n.silegismg-editor-articulacao p[data-tipo='paragrafo']:before {\n  content: '§ ' counter(paragrafo) 'º' '${separadorParagrafo}';\n  counter-increment: paragrafo;\n}\n\n.silegismg-editor-articulacao p.semOrdinal[data-tipo='paragrafo']:before {\n  content: '§ ' counter(paragrafo) '${separadorParagrafoSemOrdinal}';\n  counter-increment: paragrafo;\n}\n\n.silegismg-editor-articulacao p[data-tipo='paragrafo'].unico:before {\n  content: 'Parágrafo único${separadorParagrafoUnico}';\n}\n\n.silegismg-editor-articulacao p[data-tipo='inciso'] {\n  counter-reset: alinea;\n}\n\n.silegismg-editor-articulacao p[data-tipo='inciso']:before {\n  content: counter(inciso, upper-roman) '${separadorInciso}';\n  counter-increment: inciso;\n}\n\n.silegismg-editor-articulacao p[data-tipo='alinea'] {\n  counter-reset: item;\n}\n\n.silegismg-editor-articulacao p[data-tipo='alinea']:before {\n  content: counter(alinea, lower-latin) '${separadorAlinea}';\n  counter-increment: alinea;\n}\n\n.silegismg-editor-articulacao p[data-tipo='item']:before {\n  content: counter(item) '${separadorItem}';\n  counter-increment: item;\n}\n\n\n/* O primeiro artigo não deve ter margem superior */\n\n.silegismg-editor-articulacao > *:first-child {\n  margin-top: 0;\n}\n\n\n/* O último artigo não deve ter margem inferior */\n\n.silegismg-editor-articulacao > *:last-child {\n  margin-bottom: 0;\n}\n\n@keyframes rotulo {\n  0% {\n    opacity: 0;\n  }\n  10% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}"],sourceRoot:""}])},function(t,e,o){e=t.exports=o(10)(!0),e.push([t.i,":host{display:block;text-indent:4ex}:host([disabled]){color:gray}.silegismg-editor-articulacao p{text-indent:inherit!important}.silegismg-editor-articulacao p:before{color:var(--rotulo-cor,currentColor);font-weight:var(--rotulo-peso,bolder);background:var(--rotulo-background,inherit)}","",{version:3,sources:["/home/msfernandes/Documents/repositories/editor-articulacao/src/editor-articulacao-shadow.css"],names:[],mappings:"AAiBA,MACI,cAAe,AACf,eAAiB,CACpB,AAED,kBACI,UAAY,CACf,AAED,gCACI,6BAAgC,CACnC,AAED,uCACI,qCAAuC,AACvC,sCAAwC,AACxC,2CAA8C,CACjD",file:"editor-articulacao-shadow.css",sourcesContent:["/* Copyright 2017 Assembleia Legislativa de Minas Gerais\n * \n * This file is part of Editor-Articulacao.\n *\n * Editor-Articulacao is free software: you can redistribute it and/or modify\n * it under the terms of the GNU Lesser General Public License as published by\n * the Free Software Foundation, version 3.\n *\n * Editor-Articulacao is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU Lesser General Public License for more details.\n *\n * You should have received a copy of the GNU Lesser General Public License\n * along with Editor-Articulacao.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n:host {\n    display: block;\n    text-indent: 4ex;\n}\n\n:host([disabled]) {\n    color: gray;\n}\n\n.silegismg-editor-articulacao p {\n    text-indent: inherit !important;\n}\n\n.silegismg-editor-articulacao p:before {\n    color: var(--rotulo-cor, currentColor);\n    font-weight: var(--rotulo-peso, bolder);\n    background: var(--rotulo-background, inherit);\n}"],sourceRoot:""}])},function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,o,n){!0!==t&&!1===t[e]||o.push({validador:new n,opcao:e})}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(33),u=n(c),s=o(34),l=n(s),f=o(35),p=n(f),d=o(36),m=n(d),g=o(37),h=n(g),b=o(38),A=n(b),v=o(39),y=n(v),C=o(40),_=n(C),w=function(){function t(e){r(this,t),this.validadores=[],!1!==e&&(i(e,"caixaAlta",this.validadores,l.default),i(e,"citacao",this.validadores,p.default),i(e,"enumeracaoElementos",this.validadores,m.default),i(e,"inicialMaiuscula",this.validadores,h.default),i(e,"pontuacao",this.validadores,A.default),i(e,"pontuacaoEnumeracao",this.validadores,y.default),i(e,"sentencaUnica",this.validadores,_.default))}return a(t,[{key:"validar",value:function(t){if(t){var e=[];return t.textContent.trim().length>0&&(this.validadores.forEach(function(o){var n=o.validador,r=o.opcao;n.aplicaSeA(t)&&!n.validar(t)&&e.push(new u.default(t,r,n.descricao))}),e.length>0?t.setAttribute("data-invalido",e.reduce(function(t,e){return t?t+" "+e.descricao:e.descricao},null)):t.removeAttribute("data-invalido")),e}}}]),t}();e.default=w},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e,o,r){n(this,t),this.dispositivo=e,this.tipo=o,this.descricao=r};e.default=r},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,["artigo","paragrafo"],"Artigos e parágrafos não devem ser escritos usando apenas caixa alta."))}return i(e,t),a(e,[{key:"validar",value:function(t){var e=t.textContent;return 0===e.length||e.toUpperCase()!==e}}]),e}(u.default);e.default=s},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e,o){return t?e(t):o}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),u=o(0),s=function(t){return t&&t.__esModule?t:{default:t}}(u),l=o(5),f=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"continuacao","Citações devem estar entre aspas e terminar com ponto final (.)."))}return i(e,t),c(e,[{key:"validar",value:function(t){var e=t.textContent.trim();return t===a((0,l.encontrarDispositivoAnteriorDoTipo)(t,["artigo"]),function(t){return t.nextElementSibling},t)?/^["“]/.test(e):t===a((0,l.encontrarDispositivoPosteriorDoTipo)(t,["continuacao","artigo","paragrafo","inciso"]),function(t){return"continuacao"===t.getAttribute("data-tipo")?t:t.previousElementSibling},t)?/.+[”"]\.$/.test(e):!/[“”"]/.test(e)}}]),e}(s.default);e.default=f},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=o(5),l=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,["inciso","alinea","item"],"Enumerações devem possuir mais de um elemento."))}return i(e,t),a(e,[{key:"validar",value:function(t){var e=t.getAttribute("data-tipo"),o=(0,s.getTiposSuperiores)(e);return!!(0,s.encontrarDispositivoAnteriorDoTipo)(t,[e],o)||!!(0,s.encontrarDispositivoPosteriorDoTipo)(t,[e],o)}}]),e}(u.default);e.default=l},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,["artigo","paragrafo"],"Artigos e parágrafos devem ser iniciados com letra maiúscula."))}return i(e,t),a(e,[{key:"validar",value:function(t){var e=t.textContent.trim();return e.charAt(0).toUpperCase()===e.charAt(0)}}]),e}(u.default);e.default=s},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,["artigo","paragrafo"],"Artigos e parágrafos devem ser terminados com ponto final (.) ou dois pontos (:), sem espaço antes da pontuação."))}return i(e,t),a(e,[{key:"validar",value:function(t){return/.*\S+[:.]$/.test(t.textContent.trim())}}]),e}(u.default);e.default=s},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,["inciso","alinea","item"],"Enumerações devem ser terminadas com ponto final (.), ponto e vírgula (;) ou dois pontos (:), sem espaço antes da pontuação."))}return i(e,t),a(e,[{key:"validar",value:function(t){return/.*\S+(?:[;.:]|; ou|; e)$/.test(t.textContent.trim())}}]),e}(u.default);e.default=s},function(t,e,o){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),c=o(0),u=function(t){return t&&t.__esModule?t:{default:t}}(c),s=function(t){function e(){return n(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,["artigo","paragrafo","inciso","alinea","item"],"Dispositivos devem conter uma única sentença."))}return i(e,t),a(e,[{key:"validar",value:function(t){for(var e=t.textContent.trim(),o=/[.;:]\s*(\S)/g,n=!0,r=o.exec(e);r&&n;r=o.exec(e))n=r[1].toLowerCase()===r[1];return n}}]),e}(u.default);e.default=s}]);
//# sourceMappingURL=silegismg-editor-articulacao-plain-js.js.map